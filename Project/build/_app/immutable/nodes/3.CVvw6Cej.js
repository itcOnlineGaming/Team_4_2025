import"../chunks/DsnmJJEf.js";import{i as Ke}from"../chunks/DXyBnxB2.js";import{l as ta,u as z,h as Lt,aU as aa,v as Ca,aV as za,aW as Ea,a2 as na,X as _t,aJ as Oa,m as Aa,aX as $a,a4 as Na,p as Ve,x as s,z as p,y as e,aY as Yt,aA as Te,H as B,aB as gt,f as L,j as l,r,s as d,t as ce,k as be,w as M,d as S,e as Xe,aC as We,aD as pt,i as Qe,aZ as Pa,o as Ct,a7 as it,a_ as Ft,a$ as sa,az as Ra,b0 as qa,b1 as La,b2 as Fa,aL as Xt}from"../chunks/cFvlkg9Z.js";import{p as $,i as ke,s as zt,a as wt}from"../chunks/Dkf5emk-.js";import{t as Ha,s as Pe,e as Fe,i as Ue}from"../chunks/CRAQB-h_.js";import{b as Ya,_ as Gt}from"../chunks/BTsMpOnu.js";import{w as ut,g as St}from"../chunks/DcaSxB40.js";import{s as bt,r as ft}from"../chunks/BWnOpqhF.js";import"../chunks/BpbZ1__t.js";import{s as oa,b as ra}from"../chunks/C64XCk4k.js";import{a as Et}from"../chunks/Bt6AUSpS.js";import{E as Wa}from"../chunks/BI9tK-2m.js";function Ua(t,a,n){ta(()=>{var o=z(()=>a(t,n?.())||{});if(o?.destroy)return()=>o.destroy()})}function et(t,a,n,o){var b=t.__style;if(Lt||b!==a){var g=Ha(a);(!Lt||g!==t.getAttribute("style"))&&(g==null?t.removeAttribute("style"):t.style.cssText=g),t.__style=a}return o}function ia(t,a,n=!1){if(t.multiple){if(a==null)return;if(!Ca(a))return za();for(var o of t.options)o.selected=a.includes(kt(o));return}for(o of t.options){var b=kt(o);if(Ea(b,a)){o.selected=!0;return}}(!n||a!==void 0)&&(t.selectedIndex=-1)}function Ba(t){var a=new MutationObserver(()=>{ia(t,t.__value)});a.observe(t,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),na(()=>{a.disconnect()})}function Ht(t,a,n=a){var o=!0;aa(t,"change",b=>{var g=b?"[selected]":":checked",h;if(t.multiple)h=[].map.call(t.querySelectorAll(g),kt);else{var k=t.querySelector(g)??t.querySelector("option:not([disabled])");h=k&&kt(k)}n(h)}),ta(()=>{var b=a();if(ia(t,b,o),o&&b===void 0){var g=t.querySelector(":checked");g!==null&&(b=kt(g),n(b))}t.__value=b,o=!1}),Ba(t)}function kt(t){return"__value"in t?t.__value:t.value}function nt(t,a,n=a){var o=new WeakSet;aa(t,"input",async b=>{var g=b?t.defaultValue:t.value;if(g=Pt(t)?Rt(g):g,n(g),_t!==null&&o.add(_t),await Oa(),g!==(g=a())){var h=t.selectionStart,k=t.selectionEnd;t.value=g??"",k!==null&&(t.selectionStart=h,t.selectionEnd=Math.min(k,t.value.length))}}),(Lt&&t.defaultValue!==t.value||z(a)==null&&t.value)&&(n(Pt(t)?Rt(t.value):t.value),_t!==null&&o.add(_t)),Aa(()=>{var b=a();if(t===document.activeElement){var g=$a??_t;if(o.has(g))return}Pt(t)&&b===Rt(t.value)||t.type==="date"&&!b&&!t.value||b!==t.value&&(t.value=b??"")})}function Pt(t){var a=t.type;return a==="number"||a==="range"}function Rt(t){return t===""?null:+t}function Ja(t,a,n){var o=Na(t,a);o&&o.set&&(t[a]=n,na(()=>{t[a]=null}))}const mt={background:"#f5f5f5",bubbleBackground:"#e0e0e0",buttonPrimary:"#666666",buttonHover:"#808080",buttonText:"#ffffff",textPrimary:"#333333"},ct=ut(null),Ze=ut(null),la="major_tasks",da="task_counter";function Ka(t){try{localStorage.setItem(la,JSON.stringify(t))}catch(a){console.warn("Failed to save major tasks to localStorage:",a)}}function Va(){try{const t=localStorage.getItem(la);return t?JSON.parse(t):[]}catch(t){return console.warn("Failed to load major tasks from localStorage:",t),[]}}function Xa(t){try{localStorage.setItem(da,t.toString())}catch(a){console.warn("Failed to save task counter to localStorage:",a)}}function Ga(){try{const t=localStorage.getItem(da);return t?parseInt(t,10):1}catch(t){return console.warn("Failed to load task counter from localStorage:",t),1}}const tt=ut(Va()),Wt=ut(Ga());tt.subscribe(Ka);Wt.subscribe(Xa);function Tt(t=new Date){const a=new Date(t),n=a.getDay(),o=a.getDate()-n+(n===0?-6:1);return a.setDate(o),a.toISOString().split("T")[0]}function ca(){let t=1;return Wt.update(a=>(t=a,a+1)),t.toString()}function ua(t,a,n,o,b,g,h="medium"){const k=ca(),D=a?`${a} #${k}`:`Sample Task #${k}`;return{id:k,title:D,description:n||`Task description for ${D}`,color:o||"red",startDay:b||1,endDay:g||3,weekStart:t,priority:h}}function Za(t,a){tt.update(n=>n.map(o=>o.id===t?{...o,...a}:o))}function va(t){tt.update(a=>a.filter(n=>n.id!==t))}const Zt=Object.freeze(Object.defineProperty({__proto__:null,createNewTask:ua,deleteTask:va,generateTaskId:ca,getWeekStart:Tt,majorTasks:tt,taskCounter:Wt,updateMajorTask:Za},Symbol.toStringTag,{value:"Module"}));var Qa=L('<div class="task-description"> </div>'),en=L('<button type="button" class="delete-button" aria-label="Delete task">√ó</button>'),tn=L('<div class="delete-confirmation"><span class="confirm-text">Delete task?</span> <div class="confirm-buttons"><button type="button" class="confirm-btn cancel-btn">Cancel</button> <button type="button" class="confirm-btn delete-btn">Delete</button></div></div>'),an=L('<div role="button" tabindex="0"><div class="task-content"><span class="task-title"> </span> <!></div> <!> <!></div>');function nn(t,a){Ve(a,!1);const n=p(),o=p();let b=$(a,"id",8),g=$(a,"title",8),h=$(a,"description",8),k=$(a,"color",8),D=$(a,"startDay",8),R=$(a,"endDay",8),P=p(!1),j=p(!1),y=p(!1),m=p(!1);const _e=Ze.subscribe(E=>{s(y,E===b()),F()}),ne=ct.subscribe(()=>{F()});function F(){const E=St(Ze),ie=St(ct);E!==null||ie!==null?s(m,!e(y)):s(m,!1)}Yt(()=>{_e(),ne()});function pe(){s(P,!0),Ze.set(b())}function De(){s(P,!1),s(j,!1),Ze.set(null)}function A(E){E.stopPropagation(),s(j,!0)}function ue(E){E.stopPropagation(),va(b()),s(j,!1)}function G(E){E.stopPropagation(),s(j,!1)}Te(()=>B(D()),()=>{s(n,D()+1)}),Te(()=>B(R()),()=>{s(o,R()+2)}),gt(),Ke();var J=an();let Z;var X=l(J),we=l(X),se=l(we,!0);r(we);var O=d(we,2);{var u=E=>{var ie=Qa(),_=l(ie,!0);r(ie),ce(()=>be(_,h())),S(E,ie)};ke(O,E=>{e(P)&&E(u)})}r(X);var x=d(X,2);{var ve=E=>{var ie=en();M("click",ie,A),S(E,ie)};ke(x,E=>{e(P)&&!e(j)&&E(ve)})}var oe=d(x,2);{var Me=E=>{var ie=tn(),_=d(l(ie),2),f=l(_),H=d(f,2);r(_),r(ie),M("click",f,G),M("click",H,ue),S(E,ie)};ke(oe,E=>{e(j)&&E(Me)})}r(J),ce(E=>{Z=Pe(J,1,"major-task-bar",null,Z,E),bt(J,"id","major-task-"+b()),et(J,`background-color: ${k()??""}; grid-column: ${e(n)??""} / ${e(o)??""};`),be(se,g())},[()=>({hovered:e(P),highlighted:e(y),dimmed:e(m)})]),M("mouseenter",J,pe),M("mouseleave",J,De),S(t,J),Xe()}var sn=L('<div class="timeline-container"><div class="timeline-header"><div class="timeline-spacer"></div> <div class="day-separator"></div> <div class="day-separator"></div> <div class="day-separator"></div> <div class="day-separator"></div> <div class="day-separator"></div> <div class="day-separator"></div> <div class="day-separator"></div> <!></div></div>');function on(t,a){Ve(a,!1);const n=()=>wt(tt,"$majorTasks",o),[o,b]=zt(),g=p();let h=$(a,"weekDates",24,()=>[]),k=p("");Te(()=>(B(h()),Tt),()=>{h().length>0&&s(k,Tt(h()[0]))}),Te(()=>(n(),e(k)),()=>{s(g,n().filter(j=>j.weekStart===e(k)))}),gt(),Ke();var D=sn(),R=l(D),P=d(l(R),16);Fe(P,1,()=>e(g),j=>j.id,(j,y)=>{nn(j,{get id(){return e(y),z(()=>e(y).id)},get title(){return e(y),z(()=>e(y).title)},get description(){return e(y),z(()=>e(y).description)},get color(){return e(y),z(()=>e(y).color)},get startDay(){return e(y),z(()=>e(y).startDay)},get endDay(){return e(y),z(()=>e(y).endDay)}})}),r(R),r(D),S(t,D),Xe(),b()}const ma="calendar_subtasks",fa="subtask_counter";function rn(t){if(!(typeof window>"u"))try{localStorage.setItem(ma,JSON.stringify(t))}catch(a){console.warn("Failed to save subtasks to localStorage:",a)}}function ln(){if(typeof window>"u")return[];try{const t=localStorage.getItem(ma);return t?JSON.parse(t):[]}catch(t){return console.warn("Failed to load subtasks from localStorage:",t),[]}}function dn(t){if(!(typeof window>"u"))try{localStorage.setItem(fa,t.toString())}catch(a){console.warn("Failed to save subtask counter to localStorage:",a)}}function cn(){if(typeof window>"u")return 1;try{const t=localStorage.getItem(fa);return t?parseInt(t,10):1}catch(t){return console.warn("Failed to load subtask counter from localStorage:",t),1}}const Dt=ut(ln()),ba=ut(cn());Dt.subscribe(rn);ba.subscribe(dn);function un(){let t=1;return ba.update(a=>(t=a,a+1)),t}function vn(t,a,n,o,b,g="pending",h,k,D="medium"){const R=un();return{id:R,date:t,startTime:a,endTime:n,title:o||`Subtask #${R}`,description:b||"",status:g}}function mn(t){Dt.update(a=>a.filter(n=>n.id!==t))}function lt(t,a){Dt.update(n=>n.map(o=>o.id===t?{...o,...a}:o))}function dt(t){const[a,n]=t.split(":").map(Number);return a*60+n}function xt(t){const a=Math.floor(t/60)%24,n=t%60;return`${a.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}`}function qt(t){const a=dt(t.startTime);return dt(t.endTime)-a}var fn=L('<div class="linked-major-task"><span>Major Task:</span> <span class="linked-title"><!></span></div>'),bn=L('<div class="subtask-content svelte-1lbqrh"><span class="subtask-title svelte-1lbqrh"> </span></div> <!>',1),pn=L('<div><div class="subtask-positioner svelte-1lbqrh"><div class="resize-handle resize-top svelte-1lbqrh" role="button" tabindex="0" aria-label="Resize top"></div> <div role="button" tabindex="0"><div class="task-badges svelte-1lbqrh"><div><!></div> <button type="button"><!></button></div> <!></div> <div class="resize-handle resize-bottom svelte-1lbqrh" role="button" tabindex="0" aria-label="Resize bottom"></div></div></div>');function gn(t,a){Ve(a,!1);const n=()=>wt(ct,"$hoveredSubtaskId",b),o=()=>wt(Ze,"$hoveredMajorTaskId",b),[b,g]=zt(),h=p(),k=p(),D=p(),R=p(),P=p(),j=p(),y=p();let m=$(a,"subtask",8),_e=$(a,"gridColumn",8);const ne=1;let F=$(a,"pixelsPerHour",8),pe=$(a,"isBeingDragged",8,!1),De=$(a,"onDragStart",8),A=$(a,"onClick",8),ue=$(a,"onResize",8),G=$(a,"onStatusChange",8),J=p(null),Z=p("#333");const X=15,we=20,se=5;let O=p(!1),u=p(null),x=0,ve=0,oe=0,Me=0,E=0,ie=!1,_=p(0),f=p(0);function H(c){const[T,I]=c.split(":").map(Number);return T*60+I}function Y(c){return Math.round(c/X)*X}function W(c){let T=!1,I=null,ee=0,fe=0;const de=ye=>{if(ye.target.closest(".status-badge")||ye.target.closest(".resize-handle"))return;Me=ye.clientX,E=ye.clientY,ie=!1;const C=c.getBoundingClientRect();ee=ye.clientX-C.left,fe=ye.clientY-C.top;const q=ze=>{const yt=Math.abs(ze.clientX-Me),Ye=Math.abs(ze.clientY-E);!T&&(yt>se||Ye>se)&&(T=!0,ie=!0,ze.preventDefault(),document.body.style.userSelect="none",document.body.style.webkitUserSelect="none",I=c.cloneNode(!0),I.classList.add("drag-ghost"),I.style.position="fixed",I.style.left=`${C.left}px`,I.style.top=`${C.top}px`,I.style.width=`${C.width}px`,I.style.height=`${C.height}px`,I.style.pointerEvents="none",I.style.zIndex="2000",I.style.opacity="0.8",document.body.appendChild(I),c.style.opacity="0.3",De()(ze),window.removeEventListener("mousemove",q),window.addEventListener("mousemove",Ie))},Ie=ze=>{!T||!I||(ze.preventDefault(),I.style.left=`${ze.clientX-ee}px`,I.style.top=`${ze.clientY-fe}px`)},Le=()=>{T&&(I?.remove(),I=null,c.style.opacity="1",T=!1,document.body.style.userSelect="",document.body.style.webkitUserSelect=""),window.removeEventListener("mousemove",q),window.removeEventListener("mousemove",Ie),window.removeEventListener("mouseup",Le)};window.addEventListener("mousemove",q),window.addEventListener("mouseup",Le)};return c.addEventListener("mousedown",de),{destroy(){c.removeEventListener("mousedown",de),document.body.style.userSelect="",document.body.style.webkitUserSelect=""}}}function U(c,T){c.stopPropagation(),c.preventDefault(),s(O,!0),s(u,T),oe=c.clientY,x=H(m().startTime),ve=H(m().endTime),s(_,x),s(f,ve),document.body.style.userSelect="none",document.body.style.webkitUserSelect="none",document.body.style.cursor="ns-resize";const I=fe=>{if(!e(O))return;fe.preventDefault();const ye=(fe.clientY-oe)/F()*60;if(e(u)==="bottom"){const C=ve+ye,q=Y(C);q>e(_)&&q<=1440&&s(f,q)}else if(e(u)==="top"){const C=x+ye,q=Y(C);q>=0&&q<e(f)&&s(_,q)}},ee=()=>{e(u)==="bottom"?ue()(e(_),e(f)):e(u)==="top"&&ue()(e(_),e(f)),s(O,!1),s(u,null),document.body.style.userSelect="",document.body.style.webkitUserSelect="",document.body.style.cursor="",window.removeEventListener("mousemove",I),window.removeEventListener("mouseup",ee)};window.addEventListener("mousemove",I),window.addEventListener("mouseup",ee)}function te(){ie||A()(),ie=!1}function V(c){c.stopPropagation();let T;m().status==="pending"?T="completed":m().status==="completed"?T="cancelled":T="pending",G()(T)}Te(()=>(B(m()),e(J),tt),()=>{m().majorTaskId?(s(J,St(tt).find(c=>c.id===m().majorTaskId)||null),e(J)&&e(J).color?s(Z,e(J).color):s(Z,"#333")):(s(J,null),s(Z,"#333"))}),Te(()=>(e(O),e(u),e(_),B(m())),()=>{s(h,e(O)&&e(u)==="top"?e(_):H(m().startTime))}),Te(()=>(e(O),e(u),e(f),B(m())),()=>{s(k,e(O)&&e(u)==="bottom"?e(f):H(m().endTime))}),Te(()=>(e(k),e(h)),()=>{s(D,e(k)-e(h))}),Te(()=>e(D),()=>{s(R,e(D)/60)}),Te(()=>(e(R),B(F())),()=>{s(P,e(R)*F()>=we)}),Te(()=>(e(h),B(F())),()=>{s(j,e(h)/60*F())}),Te(()=>(e(D),B(F())),()=>{s(y,e(D)/60*F())}),gt();var me={gridRow:ne};Ke();var Q=pn();let ge;var le=l(Q),Se=l(le),re=d(Se,2);let Ee;var Re=l(re),Oe=l(Re),Be=l(Oe);{var Ae=c=>{var T=We("üî¥");S(c,T)},$e=c=>{var T=pt(),I=Qe(T);{var ee=de=>{var ye=We("üü¢");S(de,ye)},fe=de=>{var ye=We("üü°");S(de,ye)};ke(I,de=>{B(m()),z(()=>m().priority==="low")?de(ee):de(fe,!1)},!0)}S(c,T)};ke(Be,c=>{B(m()),z(()=>m().priority==="high")?c(Ae):c($e,!1)})}r(Oe);var Ce=d(Oe,2),je=l(Ce);{var He=c=>{var T=We("‚úì");S(c,T)},xe=c=>{var T=pt(),I=Qe(T);{var ee=de=>{var ye=We("‚úï");S(de,ye)},fe=de=>{var ye=We("‚óã");S(de,ye)};ke(I,de=>{B(m()),z(()=>m().status==="cancelled")?de(ee):de(fe,!1)},!0)}S(c,T)};ke(je,c=>{B(m()),z(()=>m().status==="completed")?c(He):c(xe,!1)})}r(Ce),r(Re);var qe=d(Re,2);{var at=c=>{var T=bn(),I=Qe(T),ee=l(I),fe=l(ee,!0);r(ee),r(I);var de=d(I,2);{var ye=C=>{var q=fn(),Ie=d(l(q),2),Le=l(Ie);{var ze=Ye=>{var st=We();ce(()=>be(st,(e(J),z(()=>e(J).title)))),S(Ye,st)},yt=Ye=>{var st=We("(not found)");S(Ye,st)};ke(Le,Ye=>{e(J)?Ye(ze):Ye(yt,!1)})}r(Ie),r(q),S(C,q)};ke(de,C=>{B(m()),z(()=>m().majorTaskId)&&C(ye)})}ce(()=>be(fe,(B(m()),z(()=>m().title)))),S(c,T)};ke(qe,c=>{e(P)&&c(at)})}r(re);var ae=d(re,2);r(le),Ua(le,c=>W?.(c)),r(Q),ce((c,T)=>{ge=Pe(Q,1,"floating-subtask svelte-1lbqrh",null,ge,c),et(Q,`
        grid-column: ${_e()??""};
        grid-row: 1 / -1;
        pointer-events: none;
    `),et(le,`
            position: absolute;
            top: ${e(j)??""}px;
            height: ${e(y)??""}px;
            width: 100%;
            pointer-events: auto;
            z-index: 51;
        `),Ee=Pe(re,1,"subtask-card svelte-1lbqrh",null,Ee,T),bt(re,"id",(B(m()),z(()=>"subtask-"+m().id))),et(re,`border-color: ${e(Z)??""};`),Pe(Oe,1,`priority-badge ${B(m()),z(()=>m().priority||"medium")??""}`,"svelte-1lbqrh"),Pe(Ce,1,`status-badge ${B(m()),z(()=>m().status||"pending")??""}`,"svelte-1lbqrh")},[()=>({"being-dragged":pe(),resizing:e(O)}),()=>({minimal:!e(P),highlighted:n()!==null&&(n()===m().id||o()===m().majorTaskId)||o()!==null&&o()===m().majorTaskId,dimmed:o()!==null&&o()!==m().majorTaskId||n()!==null&&!(n()===m().id||o()===m().majorTaskId)})]),M("mousedown",Se,c=>U(c,"top")),M("click",Ce,V),M("mouseenter",re,()=>{ct.set(m().id),Ze.set(m().majorTaskId||null)}),M("mouseleave",re,()=>{ct.set(null),Ze.set(null)}),M("click",re,te),M("keydown",re,c=>c.key==="Enter"&&te()),M("mousedown",ae,c=>U(c,"bottom")),S(t,Q),Ja(a,"gridRow",ne);var K=Xe(me);return g(),K}var yn=L('<div><div class="day-name"> </div> <div> </div></div>'),hn=L('<div style="background: rgba(255,255,255,0.01); cursor: pointer;" role="gridcell" tabindex="0"></div>'),_n=L('<div class="time-row"><div class="time-slot"> </div> <!></div>'),kn=L('<div class="calendar-grid"><svg id="subtask-major-lines" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 50; clip-path: inset(0 0 0 0);"></svg> <div class="grid-header"><div class="time-column-header"></div> <!></div> <!> <div class="grid-body svelte-1q5lr4u"><!> <div class="subtasks-layer"></div></div></div>');function wn(t,a){Ve(a,!1);let n=$(a,"weekDates",8),o=$(a,"timeSlots",8),b=$(a,"daysOfWeek",8),g=$(a,"eventsIndex",8),h=$(a,"pixelsPerHour",8),k=$(a,"handleCellClick",8),D=$(a,"formatDate",8),R=$(a,"isToday",8),P=$(a,"onEventMove",8),j=$(a,"onSubtaskClick",8),y=$(a,"onSubtaskResize",8),m=$(a,"onStatusChange",8),_e=new Date().getHours(),ne=p(null),F=p(null),pe=p();function De(_,f){console.log("openSubtaskModal called:",_,f),k()(_,f)}function A(_){const f=new Date;f.setHours(0,0,0,0);const H=new Date(_);return H.setHours(0,0,0,0),H<f}function ue(_){s(ne,_),s(F,_)}function G(_,f){if(!e(ne))return;const H=e(ne).split("|"),Y={date:H[0],time:H[1]},W={date:_,time:f};if(Y.date===W.date&&Y.time===W.time){s(ne,null),s(F,null);return}const U=`${_}|${f}`;if(g()[U]){s(ne,null),s(F,null);return}P()(Y,W),setTimeout(()=>{const te=Object.values(g()).find(V=>V.date===W.date&&V.startTime===W.time);if(te&&te.majorTaskId){const me=Object.values(g()).filter(Q=>Q.majorTaskId===te.majorTaskId).map(Q=>n().findIndex(le=>le.toISOString().split("T")[0]===Q.date)+1).filter(Q=>Q>0);if(me.length>0){const Q=Math.min(...me),ge=Math.max(...me);Gt(()=>Promise.resolve().then(()=>Zt),void 0,import.meta.url).then(le=>{le.updateMajorTask(te.majorTaskId,{startDay:Q,endDay:ge})})}}},0),s(ne,null),s(F,null)}function J(_){j()(_)}const Z=[];function X(){if(typeof window>"u")return;Z.length=0;const _=document.getElementById("subtask-major-lines"),f=document.querySelector(".grid-header");if(!_||!f){console.log("SVG element or grid header not found");return}const H=f.offsetHeight;for(;_.firstChild;)_.removeChild(_.firstChild);console.log("Drawing lines, eventsIndex:",g());const Y=St(ct),W=St(Ze);Object.values(g()).forEach(U=>{if(console.log("Checking subtask:",U.id,"majorTaskId:",U.majorTaskId),!U.majorTaskId)return;const te=document.getElementById("subtask-"+U.id),V=document.getElementById("major-task-"+U.majorTaskId);console.log("Elements found:",{subtaskEl:!!te,majorTaskEl:!!V,subtaskId:"subtask-"+U.id,majorTaskId:"major-task-"+U.majorTaskId});var me=0;let Q=!1;for(let qe of Z){if(qe===U.majorTaskId){Q=!0;break}me+=1}if(Q||Z.push(U.majorTaskId),!te||!V)return;const ge=te.getBoundingClientRect(),le=V.getBoundingClientRect(),Se=_.getBoundingClientRect();console.log("Amount of lines : "+me);const re=ge.left-Se.left-8+me*5,Ee=Math.max(ge.top-Se.top+ge.height/2,H),Re=re,Oe=Math.max(le.top-Se.top+4,H);if(ge.top<Se.top+H)return;console.log("Drawing line from",{startX:re,startY:Ee},"to",{endX:Re,endY:Oe});const Ae=window.getComputedStyle(V).backgroundColor||"#333";let $e=.9,Ce="";(Y!==null||W!==null)&&(Y===U.id||W===U.majorTaskId||($e=.3,Ce="grayscale(0.7) brightness(0.7)"));const je=document.createElementNS("http://www.w3.org/2000/svg","line");je.setAttribute("x1",re.toString()),je.setAttribute("y1",Ee.toString()),je.setAttribute("x2",Re.toString()),je.setAttribute("y2",Oe.toString()),je.setAttribute("stroke",Ae),je.setAttribute("stroke-width","3"),je.setAttribute("opacity",$e.toString()),je.setAttribute("pointer-events","none"),je.setAttribute("z-index","50"),Ce&&je.setAttribute("style",`filter: ${Ce};`),_.appendChild(je);const He=re+15,xe=document.createElementNS("http://www.w3.org/2000/svg","line");xe.setAttribute("x1",He.toString()),xe.setAttribute("y1",Ee.toString()),xe.setAttribute("x2",re.toString()),xe.setAttribute("y2",Ee.toString()),xe.setAttribute("stroke",Ae),xe.setAttribute("stroke-width","3"),xe.setAttribute("opacity",$e.toString()),xe.setAttribute("pointer-events","none"),xe.setAttribute("z-index","50"),Ce&&xe.setAttribute("style",`filter: ${Ce};`),_.appendChild(xe),_.style.zIndex="1",console.log("Line created with color:",Ae)})}Pa(()=>{X(),setTimeout(()=>{const _=Array.from(new Set(Object.values(g()).map(f=>f.majorTaskId).filter(Boolean)));for(const f of _){const Y=Object.values(g()).filter(W=>W.majorTaskId===f).map(W=>n().findIndex(te=>te.toISOString().split("T")[0]===W.date)+1).filter(W=>W>0);if(Y.length>0){const W=Math.min(...Y),U=Math.max(...Y);Gt(()=>Promise.resolve().then(()=>Zt),void 0,import.meta.url).then(te=>{te.updateMajorTask(f,{startDay:W,endDay:U})})}}},0)});const we=ct.subscribe(()=>X()),se=Ze.subscribe(()=>X());let O=[];Ct(()=>{e(pe)&&e(pe).addEventListener("scroll",X),setTimeout(()=>{const _=Array.from(document.querySelectorAll('[id^="subtask-"]')),f=Array.from(document.querySelectorAll('[id^="major-task-"]'));[..._,...f].forEach(H=>{const Y=new ResizeObserver(()=>X());Y.observe(H),O.push(Y)})},500)}),Yt(()=>{e(pe)&&e(pe).removeEventListener("scroll",X),O.forEach(_=>_.disconnect()),O=[],we(),se()}),Ke();var u=kn(),x=d(l(u),2),ve=d(l(x),2);Fe(ve,1,n,Ue,(_,f,H)=>{var Y=yn();let W;var U=l(Y),te=l(U,!0);r(U);var V=d(U,2);let me;var Q=l(V,!0);r(V),r(Y),ce((ge,le,Se,re)=>{W=Pe(Y,1,"day-header svelte-1q5lr4u",null,W,ge),be(te,le),me=Pe(V,1,"day-number",null,me,Se),be(Q,re)},[()=>({today:R()(e(f)),past:A(e(f))}),()=>(B(b()),z(()=>b()[H].toUpperCase())),()=>({"today-number":R()(e(f))}),()=>(B(D()),e(f),z(()=>D()(e(f))))]),S(_,Y)}),r(x);var oe=d(x,2);on(oe,{get weekDates(){return n()}});var Me=d(oe,2),E=l(Me);Fe(E,1,o,Ue,(_,f,H)=>{var Y=_n(),W=l(Y),U=l(W,!0);r(W);var te=d(W,2);Fe(te,1,n,Ue,(V,me)=>{const Q=it(()=>(e(me),z(()=>e(me).toISOString().split("T")[0]))),ge=it(()=>`${e(Q)}|${e(f)}`);var le=hn();let Se;ce(re=>Se=Pe(le,1,"calendar-cell svelte-1q5lr4u",null,Se,re),[()=>({"current-hour":R()(e(me))&&_e===H,"past-cell":A(e(me)),"drop-target":e(ne)&&e(ge)!==e(F)&&!g()[e(ge)]})]),M("mouseup",le,()=>G(e(Q),e(f))),M("click",le,re=>{re.stopPropagation(),De(e(Q),e(f))}),S(V,le)}),r(Y),ce(()=>{et(Y,`height: ${h()??""}px;`),be(U,e(f))}),S(_,Y)});var ie=d(E,2);Fe(ie,5,()=>(B(g()),z(()=>Object.values(g()))),Ue,(_,f)=>{const H=it(()=>(B(n()),e(f),z(()=>n().findIndex(V=>V.toISOString().split("T")[0]===e(f).date)))),Y=it(()=>(B(o()),e(f),z(()=>o().findIndex(V=>V===e(f).startTime))));var W=pt(),U=Qe(W);{var te=V=>{{let me=it(()=>e(H)+1),Q=it(()=>e(Y)+1),ge=it(()=>(e(ne),e(f),z(()=>e(ne)===`${e(f).date}|${e(f).startTime}`)));gn(V,{get subtask(){return e(f)},get pixelsPerHour(){return h()},get gridColumn(){return e(me)},get gridRow(){return e(Q)},get isBeingDragged(){return e(ge)},onDragStart:()=>ue(`${e(f).date}|${e(f).startTime}`),onClick:()=>J(e(f)),onResize:(le,Se)=>y()(e(f).id,le,Se),onStatusChange:le=>m()(e(f).id,le)})}};ke(U,V=>{e(H)!==-1&&e(Y)!==-1&&V(te)})}S(_,W)}),r(ie),r(Me),Ya(Me,_=>s(pe,_),()=>e(pe)),r(u),ce(()=>{et(Me,`--pixels-per-hour: ${h()??""}px; position: relative;`),et(ie,`grid-template-rows: repeat(${B(o()),z(()=>o().length)??""}, ${h()??""}px);`)}),S(t,u),Xe()}var Sn=L('<div class="duration-display svelte-18033iz"><span class="duration-icon svelte-18033iz">‚è±Ô∏è</span> <span class="duration-text svelte-18033iz">Duration: <strong class="svelte-18033iz"> </strong></span></div>'),Tn=L("<option> </option>"),Dn=L('<button class="delete-button svelte-18033iz"><span class="button-icon svelte-18033iz">üóëÔ∏è</span> <span>Delete</span></button>'),Mn=L('<div class="modal-overlay svelte-18033iz" role="button" tabindex="-1"><div class="modal-content svelte-18033iz" role="dialog" aria-modal="true" aria-labelledby="modal-title" tabindex="-1"><div class="modal-header svelte-18033iz"><div class="header-content svelte-18033iz"><div class="icon-wrapper svelte-18033iz"><!></div> <h2 id="modal-title" class="svelte-18033iz"> </h2></div> <button class="close-button svelte-18033iz" aria-label="Close modal">√ó</button></div> <div class="modal-body svelte-18033iz"><div class="form-group svelte-18033iz"><label for="date" class="svelte-18033iz"><span class="label-text svelte-18033iz">Date</span> <span class="label-required svelte-18033iz">*</span></label> <input id="date" type="date" class="modal-input date-input svelte-18033iz" required/></div> <div class="form-group svelte-18033iz"><label for="title" class="svelte-18033iz"><span class="label-text svelte-18033iz">Title</span> <span class="label-required svelte-18033iz">*</span></label> <input id="title" type="text" placeholder="What do you need to do?" class="modal-input svelte-18033iz" required/></div> <div class="time-inputs svelte-18033iz"><div class="form-group svelte-18033iz"><label for="startTime" class="svelte-18033iz"><span class="label-text svelte-18033iz">Start Time</span> <span class="label-required svelte-18033iz">*</span></label> <input id="startTime" type="time" class="modal-input time-input svelte-18033iz" required/></div> <div class="form-group svelte-18033iz"><label for="endTime" class="svelte-18033iz"><span class="label-text svelte-18033iz">End Time</span> <span class="label-required svelte-18033iz">*</span></label> <input id="endTime" type="time" class="modal-input time-input svelte-18033iz" required/></div></div> <!> <div class="form-group svelte-18033iz"><label for="priority" class="svelte-18033iz"><span class="label-text svelte-18033iz">Priority</span></label> <select id="priority" class="modal-select svelte-18033iz"><option>üî¥ High</option><option>üü° Medium</option><option>üü¢ Low</option></select></div> <div class="form-group svelte-18033iz"><label for="description" class="svelte-18033iz"><span class="label-text svelte-18033iz">Description</span> <span class="label-optional svelte-18033iz">(optional)</span></label> <textarea id="description" placeholder="Add any additional details..." class="modal-textarea svelte-18033iz" rows="4"></textarea></div> <div class="form-group svelte-18033iz"><label for="majorTaskDropdown" class="svelte-18033iz"><span class="label-text svelte-18033iz">Link to Major Task</span></label> <select id="majorTaskDropdown" class="modal-input svelte-18033iz"></select></div></div> <div class="modal-footer svelte-18033iz"><!> <div class="action-buttons svelte-18033iz"><button class="cancel-button svelte-18033iz">Cancel</button> <button class="save-button svelte-18033iz"><span class="button-icon svelte-18033iz"> </span> <span> </span></button></div></div></div></div>');function jn(t,a){Ve(a,!1);const n=()=>wt(tt,"$majorTasks",o),[o,b]=zt(),g=p();let h=$(a,"showModal",8,!1),k=$(a,"modalMode",8,"create"),D=$(a,"targetDate",12,""),R=$(a,"startTimeInput",12,""),P=$(a,"endTimeInput",12,""),j=$(a,"titleInput",12,""),y=$(a,"descriptionInput",12,""),m=$(a,"majorTaskIdInput",12,""),_e=$(a,"selectedEvent",8,null),ne=$(a,"priorityInput",12,"medium"),F=$(a,"onClose",8),pe=$(a,"onSave",8),De=$(a,"onDelete",8),A=p(!1);function ue(){pe()()}function G(O){O.key==="Escape"&&F()()}function J(O){O.stopPropagation()}function Z(O,u){if(!O||!u)return"";const[x,ve]=O.split(":").map(Number),[oe,Me]=u.split(":").map(Number),E=x*60+ve,_=oe*60+Me-E;if(_<=0)return"Invalid duration";const f=Math.floor(_/60),H=_%60;return f===0?`${H}m`:H===0?`${f}h`:`${f}h ${H}m`}Te(()=>(B(h()),B(k()),B(_e()),e(A)),()=>{h()&&k()==="view"&&_e()&&!e(A)&&(m(_e().majorTaskId||""),s(A,!0))}),Te(()=>B(h()),()=>{h()||s(A,!1)}),Te(()=>(B(h()),B(k()),n(),B(m()),e(A)),()=>{h()&&k()==="create"&&n().length>0&&!m()&&!e(A)&&(m(n()[0].id),s(A,!0))}),Te(()=>(B(R()),B(P())),()=>{s(g,Z(R(),P()))}),gt(),Ke();var X=pt(),we=Qe(X);{var se=O=>{var u=Mn(),x=l(u),ve=l(x),oe=l(ve),Me=l(oe),E=l(Me);{var ie=C=>{var q=We("‚ûï");S(C,q)},_=C=>{var q=We("üìã");S(C,q)};ke(E,C=>{k()==="create"?C(ie):C(_,!1)})}r(Me);var f=d(Me,2),H=l(f,!0);r(f),r(oe);var Y=d(oe,2);r(ve);var W=d(ve,2),U=l(W),te=d(l(U),2);ft(te),r(U);var V=d(U,2),me=d(l(V),2);ft(me),r(V);var Q=d(V,2),ge=l(Q),le=d(l(ge),2);ft(le),r(ge);var Se=d(ge,2),re=d(l(Se),2);ft(re),r(Se),r(Q);var Ee=d(Q,2);{var Re=C=>{var q=Sn(),Ie=d(l(q),2),Le=d(l(Ie)),ze=l(Le,!0);r(Le),r(Ie),r(q),ce(()=>be(ze,e(g))),S(C,q)};ke(Ee,C=>{e(g)&&C(Re)})}var Oe=d(Ee,2),Be=d(l(Oe),2);ce(()=>{ne(),Ft(()=>{})});var Ae=l(Be);Ae.value=Ae.__value="high";var $e=d(Ae);$e.value=$e.__value="medium";var Ce=d($e);Ce.value=Ce.__value="low",r(Be),r(Oe);var je=d(Oe,2),He=d(l(je),2);sa(He),r(je);var xe=d(je,2),qe=d(l(xe),2);ce(()=>{m(),Ft(()=>{n()})}),Fe(qe,5,n,Ue,(C,q)=>{var Ie=Tn(),Le=l(Ie,!0);r(Ie);var ze={};ce(()=>{be(Le,(e(q),z(()=>e(q).title))),ze!==(ze=(e(q),z(()=>e(q).id)))&&(Ie.value=(Ie.__value=(e(q),z(()=>e(q).id)))??"")}),S(C,Ie)}),r(qe),r(xe),r(W);var at=d(W,2),ae=l(at);{var K=C=>{var q=Dn();M("click",q,function(...Ie){De()?.apply(this,Ie)}),S(C,q)};ke(ae,C=>{k()==="view"&&C(K)})}var c=d(ae,2),T=l(c),I=d(T,2),ee=l(I),fe=l(ee,!0);r(ee);var de=d(ee,2),ye=l(de,!0);r(de),r(I),r(c),r(at),r(x),r(u),ce(()=>{be(H,k()==="create"?"Create New Subtask":"Subtask Details"),be(fe,k()==="create"?"‚úì":"üíæ"),be(ye,k()==="create"?"Create":"Update")}),M("click",Y,function(...C){F()?.apply(this,C)}),nt(te,D),nt(me,j),nt(le,R),nt(re,P),Ht(Be,ne),nt(He,y),Ht(qe,m),M("click",T,function(...C){F()?.apply(this,C)}),M("click",I,ue),M("click",x,oa(function(C){ra.call(this,a,C)})),M("keydown",x,J),M("click",u,function(...C){F()?.apply(this,C)}),M("keydown",u,G),S(O,u)};ke(we,O=>{h()&&O(se)})}S(t,X),Xe(),b()}var xn=L('<div class="error-message svelte-mtbej3"> </div>'),In=L('<div class="error-messages svelte-mtbej3"><div class="error-icon svelte-mtbej3">‚ö†Ô∏è</div> <div class="error-list svelte-mtbej3"></div></div>'),Cn=L('<span class="checkmark svelte-mtbej3">‚úì</span>'),zn=L('<button type="button"><!></button>'),En=L('<div class="custom-color-picker svelte-mtbej3"><div class="color-picker-header svelte-mtbej3"><span class="picker-label svelte-mtbej3">Pick your color:</span></div> <div class="color-picker-controls svelte-mtbej3"><input type="color" class="color-input svelte-mtbej3" aria-label="Color picker"/> <div class="color-preview svelte-mtbej3"></div> <button type="button" class="apply-color-btn svelte-mtbej3">Apply</button></div></div>'),On=L('<div class="days-summary svelte-mtbej3"><span class="summary-icon svelte-mtbej3">üìÖ</span> <span class="summary-text svelte-mtbej3"> </span></div>'),An=L('<span class="day-check svelte-mtbej3">‚úì</span>'),$n=L('<button type="button"><span class="day-text svelte-mtbej3"> </span> <!></button>'),Nn=L(`<div class="modal-overlay svelte-mtbej3" role="button" tabindex="0"><div class="modal-content svelte-mtbej3" role="dialog" aria-modal="true"><div class="modal-header svelte-mtbej3"><div class="header-content svelte-mtbej3"><div class="icon-wrapper svelte-mtbej3">üìå</div> <h2 class="svelte-mtbej3">Create Major Task</h2></div> <button type="button" class="close-button svelte-mtbej3" aria-label="Close">√ó</button></div> <div class="modal-body svelte-mtbej3"><!> <div class="form-group svelte-mtbej3"><label for="task-title" class="svelte-mtbej3"><span class="label-text svelte-mtbej3">Title</span> <span class="label-required svelte-mtbej3">*</span></label> <input type="text" id="task-title" placeholder="What's the task?" class="form-input svelte-mtbej3" required/></div> <div class="form-group svelte-mtbej3"><label for="task-description" class="svelte-mtbej3"><span class="label-text svelte-mtbej3">Description</span> <span class="label-optional svelte-mtbej3">(optional)</span></label> <textarea id="task-description" placeholder="Add details about this task..." class="form-textarea svelte-mtbej3" rows="3"></textarea></div> <div class="form-group svelte-mtbej3"><label for="task-priority" class="svelte-mtbej3"><span class="label-text svelte-mtbej3">Priority</span></label> <select id="task-priority" class="form-select svelte-mtbej3"><option class="svelte-mtbej3">üî¥ High</option><option class="svelte-mtbej3">üü° Medium</option><option class="svelte-mtbej3">üü¢ Low</option></select></div> <div class="form-group svelte-mtbej3"><fieldset class="svelte-mtbej3"><legend class="svelte-mtbej3"><span class="label-text svelte-mtbej3">Color</span> <span class="label-required svelte-mtbej3">*</span></legend> <div class="color-selection svelte-mtbej3"><!> <button type="button" title="Custom color" aria-label="Choose custom color"><span class="custom-icon svelte-mtbej3">üé®</span></button></div> <!></fieldset></div> <div class="form-group svelte-mtbej3"><fieldset class="svelte-mtbej3"><legend class="svelte-mtbej3"><span class="label-text svelte-mtbej3">Days</span> <span class="label-required svelte-mtbej3">*</span></legend> <!> <div class="day-selection svelte-mtbej3"></div></fieldset></div></div> <div class="modal-footer svelte-mtbej3"><button type="button" class="cancel-button svelte-mtbej3">Cancel</button> <button type="button" class="create-button svelte-mtbej3"><span class="button-icon svelte-mtbej3">‚úì</span> <span class="svelte-mtbej3">Create Task</span></button></div></div></div>`);function Pn(t,a){Ve(a,!1);const n=p();let o=$(a,"showModal",12,!1);const b=Ra();let g=p(""),h=p(""),k=p(""),D=p(new Set),R=p("medium"),P=p(!1),j=p("#ff0000"),y=p([]);const m=[{name:"Red",value:"#dc3545"},{name:"Blue",value:"#007bff"},{name:"Green",value:"#28a745"},{name:"Yellow",value:"#ffc107"},{name:"Orange",value:"#fd7e14"},{name:"Purple",value:"#8c62cf"},{name:"Pink",value:"#e83e8c"},{name:"Teal",value:"#20c997"}],_e=[{short:"Mon",full:"Monday"},{short:"Tue",full:"Tuesday"},{short:"Wed",full:"Wednesday"},{short:"Thu",full:"Thursday"},{short:"Fri",full:"Friday"},{short:"Sat",full:"Saturday"},{short:"Sun",full:"Sunday"}];function ne(){if(e(D).size===0)return"";if(e(D).size===7)return"All week";const u=Array.from(e(D)).sort((oe,Me)=>oe-Me),x=u.map(oe=>_e[oe-1].short);if(u.length<=2)return x.join(" & ");let ve=!0;for(let oe=1;oe<u.length;oe++)if(u[oe]!==u[oe-1]+1){ve=!1;break}return ve?`${x[0]} - ${x[x.length-1]}`:x.join(", ")}function F(){return s(y,[]),e(g).trim()||e(y).push("Title is required"),e(k)||e(y).push("Please select a color"),e(D).size===0&&e(y).push("Please select at least one day"),e(y).length===0}function pe(){if(F()){const u=Array.from(e(D)).sort((ve,oe)=>ve-oe),x={title:e(g).trim(),description:e(h).trim(),color:e(k),startDay:u[0],endDay:u[u.length-1],selectedDays:u,priority:e(R)};b("create",x),De(),A()}}function De(){s(g,""),s(h,""),s(k,""),s(D,new Set),s(R,"medium"),s(P,!1),s(y,[])}function A(){De(),o(!1),b("close")}function ue(u){s(k,u),s(P,!1)}function G(){s(k,e(j)),s(P,!1)}function J(u){e(D).has(u)?e(D).delete(u):e(D).add(u),s(D,e(D))}function Z(u){u.key==="Escape"&&A()}function X(u){u.target===u.currentTarget&&A()}Te(()=>{},()=>{s(n,ne())}),gt(),Ke();var we=pt();M("keydown",qa,Z);var se=Qe(we);{var O=u=>{var x=Nn(),ve=l(x),oe=l(ve),Me=d(l(oe),2);r(oe);var E=d(oe,2),ie=l(E);{var _=ae=>{var K=In(),c=d(l(K),2);Fe(c,5,()=>e(y),Ue,(T,I)=>{var ee=xn(),fe=l(ee,!0);r(ee),ce(()=>be(fe,e(I))),S(T,ee)}),r(c),r(K),S(ae,K)};ke(ie,ae=>{e(y),z(()=>e(y).length>0)&&ae(_)})}var f=d(ie,2),H=d(l(f),2);ft(H),r(f);var Y=d(f,2),W=d(l(Y),2);sa(W),r(Y);var U=d(Y,2),te=d(l(U),2);ce(()=>{e(R),Ft(()=>{})});var V=l(te);V.value=V.__value="high";var me=d(V);me.value=me.__value="medium";var Q=d(me);Q.value=Q.__value="low",r(te),r(U);var ge=d(U,2),le=l(ge),Se=d(l(le),2),re=l(Se);Fe(re,1,()=>m,Ue,(ae,K)=>{var c=zn();let T;var I=l(c);{var ee=fe=>{var de=Cn();S(fe,de)};ke(I,fe=>{e(k),e(K),z(()=>e(k)===e(K).value)&&fe(ee)})}r(c),ce(fe=>{T=Pe(c,1,"color-box svelte-mtbej3",null,T,fe),et(c,`background-color: ${e(K),z(()=>e(K).value)??""}`),bt(c,"title",(e(K),z(()=>e(K).name))),bt(c,"aria-label",(e(K),z(()=>e(K).name)))},[()=>({selected:e(k)===e(K).value})]),M("click",c,()=>ue(e(K).value)),S(ae,c)});var Ee=d(re,2);let Re;r(Se);var Oe=d(Se,2);{var Be=ae=>{var K=En(),c=d(l(K),2),T=l(c);ft(T);var I=d(T,2),ee=d(I,2);r(c),r(K),ce(()=>et(I,`background-color: ${e(j)??""}`)),nt(T,()=>e(j),fe=>s(j,fe)),M("click",ee,G),S(ae,K)};ke(Oe,ae=>{e(P)&&ae(Be)})}r(le),r(ge);var Ae=d(ge,2),$e=l(Ae),Ce=d(l($e),2);{var je=ae=>{var K=On(),c=d(l(K),2),T=l(c,!0);r(c),r(K),ce(()=>be(T,e(n))),S(ae,K)};ke(Ce,ae=>{e(n)&&ae(je)})}var He=d(Ce,2);Fe(He,5,()=>_e,Ue,(ae,K,c)=>{var T=$n();let I;var ee=l(T),fe=l(ee,!0);r(ee);var de=d(ee,2);{var ye=C=>{var q=An();S(C,q)};ke(de,C=>{e(D),z(()=>e(D).has(c+1))&&C(ye)})}r(T),ce(C=>{I=Pe(T,1,"day-button svelte-mtbej3",null,I,C),bt(T,"title",(e(K),z(()=>e(K).full))),be(fe,(e(K),z(()=>e(K).short)))},[()=>({selected:e(D).has(c+1)})]),M("click",T,()=>J(c+1)),S(ae,T)}),r(He),r($e),r(Ae),r(E);var xe=d(E,2),qe=l(xe),at=d(qe,2);r(xe),r(ve),r(x),ce(ae=>Re=Pe(Ee,1,"color-box custom-color-trigger svelte-mtbej3",null,Re,ae),[()=>({selected:e(P)})]),M("click",Me,A),nt(H,()=>e(g),ae=>s(g,ae)),nt(W,()=>e(h),ae=>s(h,ae)),Ht(te,()=>e(R),ae=>s(R,ae)),M("click",Ee,()=>s(P,!e(P))),M("click",qe,A),M("click",at,pe),M("click",x,X),M("keydown",x,Z),S(u,x)};ke(se,u=>{o()&&u(O)})}S(t,we),Xe()}async function Rn(t,a,n){if(!navigator.serviceWorker.controller){if(console.warn("Service Worker not controlling the page yet"),Notification.permission==="granted"){const o={body:a,icon:n?.icon||"üìÖ",badge:n?.badge||"üìÖ",tag:n?.tag||"notification",vibrate:n?.vibrate||[200,100,200],requireInteraction:n?.requireInteraction||!1,silent:n?.silent||!1};new Notification(t,o)}return}try{const o=await navigator.serviceWorker.ready,b={body:a,icon:n?.icon||"üìÖ",badge:n?.badge||"üìÖ",tag:n?.tag||"notification",vibrate:n?.vibrate||[200,100,200],requireInteraction:n?.requireInteraction||!1,silent:n?.silent||!1,data:{dateTime:new Date().toISOString(),url:"/"}};await o.showNotification(t,b),console.log("Mobile notification sent via Service Worker")}catch(o){console.error("Failed to show notification:",o)}}async function qn(){return"Notification"in window?Notification.permission==="granted"?"granted":await Notification.requestPermission():(console.warn("This browser does not support notifications"),"denied")}async function Ot(t,a,n){if(!("Notification"in window))return console.warn("This browser does not support notifications"),null;if(Notification.permission!=="granted")return console.warn("Notification permission not granted"),null;if("serviceWorker"in navigator&&navigator.serviceWorker.controller)return await Rn(t,a,n),null;const o={body:a,icon:n?.icon||"üìÖ",badge:n?.badge||"üìÖ",tag:n?.tag||"calendar-notification",requireInteraction:n?.requireInteraction||!1,silent:n?.silent||!1};return n?.vibrate&&"vibrate"in navigator&&(o.vibrate=n.vibrate),new Notification(t,o)}let Qt=!1;async function pa(){Qt||(Qt=!0,await qn())}function Ln(t){pa(),Et.success(`Event created: ${t.title}`,{duration:4e3,position:"bottom-right"}),Ot("Event Created",`${t.title} scheduled for ${t.date} at ${t.startTime}`,{icon:"/favicon.svg",tag:`event-created-${t.id}`})}function Fn(t){Et.info(`Event updated: ${t.title}`,{duration:4e3,position:"bottom-right"}),Ot("Event Updated",`${t.title} has been modified`,{icon:"/favicon.svg",tag:`event-updated-${t.id}`})}function Hn(t){const a=ga(t);typeof window<"u"&&window.dispatchEvent(new CustomEvent("showReminderModal",{detail:{event:t,minutesUntil:a}})),Ot("Event Reminder",`${t.title} starts in ${a} minutes`,{icon:"/favicon.svg",tag:`event-reminder-${t.id}`,requireInteraction:!0})}function ga(t){const a=new Date,[n,o,b]=t.date.split("-").map(Number),[g,h]=t.startTime.split(":").map(Number),k=new Date(n,o-1,b,g,h);return Math.floor((k.getTime()-a.getTime())/(1e3*60))}function Yn(t){Et.error(`Event deleted: ${t.title}`,{duration:4e3,position:"bottom-right"}),Ot("Event Deleted",`${t.title} has been removed from your calendar`,{icon:"/favicon.svg",tag:`event-deleted-${t.id}`})}function Wn(t,a=15){const n=JSON.parse(localStorage.getItem("snoozedReminders")||"{}"),o=Date.now()+a*60*1e3;n[t.id]=o,localStorage.setItem("snoozedReminders",JSON.stringify(n)),Et.info(`Reminder snoozed for ${a} minutes`,{duration:3e3,position:"bottom-right"})}function Un(t){const a=JSON.parse(localStorage.getItem("snoozedReminders")||"{}"),n=a[t];return n?Date.now()<n?!0:(delete a[t],localStorage.setItem("snoozedReminders",JSON.stringify(a)),!1):!1}function ea(t){const a=new Set(JSON.parse(localStorage.getItem("remindersSent")||"[]"));t.forEach(n=>{const o=ga(n),b=String(n.id);o>0&&o<=60&&!a.has(b)&&!Un(n.id)&&(Hn(n),a.add(b)),o<0&&a.delete(b)}),localStorage.setItem("remindersSent",JSON.stringify(Array.from(a)))}var Bn=L('<div class="reminder-overlay svelte-1bpwe6n" role="button" tabindex="-1"><div class="reminder-modal svelte-1bpwe6n" role="dialog" aria-modal="true" tabindex="0"><h2 class="reminder-title svelte-1bpwe6n"><span class="reminder-icon svelte-1bpwe6n">‚è∞</span> Upcoming Event</h2> <p class="reminder-event-title svelte-1bpwe6n"> </p> <p class="reminder-time svelte-1bpwe6n">Starts in <strong class="svelte-1bpwe6n"> </strong></p> <p class="reminder-details svelte-1bpwe6n"> </p> <div class="reminder-actions svelte-1bpwe6n"><button class="snooze-btn svelte-1bpwe6n"><span class="btn-icon svelte-1bpwe6n">üîî</span> <span class="svelte-1bpwe6n">Snooze 15 min</span></button> <button class="snooze-btn svelte-1bpwe6n"><span class="btn-icon svelte-1bpwe6n">üîî</span> <span class="svelte-1bpwe6n">Snooze 30 min</span></button> <button class="dismiss-btn svelte-1bpwe6n"><span class="btn-icon svelte-1bpwe6n">‚úì</span> <span class="svelte-1bpwe6n">Dismiss</span></button></div></div></div>');function Jn(t,a){Ve(a,!1);let n=p(!1),o=p(null),b=p(0);function g(j){s(o,j.detail.event),s(b,j.detail.minutesUntil),s(n,!0)}function h(){s(n,!1),s(o,null)}function k(j){e(o)&&(Wn(e(o),j),h())}Ct(()=>{typeof window<"u"&&window.addEventListener("showReminderModal",g)}),Yt(()=>{typeof window<"u"&&window.removeEventListener("showReminderModal",g)}),Ke();var D=pt(),R=Qe(D);{var P=j=>{var y=Bn(),m=l(y),_e=d(l(m),2),ne=l(_e,!0);r(_e);var F=d(_e,2),pe=d(l(F)),De=l(pe);r(pe),r(F);var A=d(F,2),ue=l(A);r(A);var G=d(A,2),J=l(G),Z=d(J,2),X=d(Z,2);r(G),r(m),r(y),ce(()=>{be(ne,e(o).title),be(De,`${e(b)??""} minutes`),be(ue,`${e(o).date??""} at ${e(o).startTime??""}`)}),M("click",J,()=>k(15)),M("click",Z,()=>k(30)),M("click",X,h),M("click",m,oa(function(we){ra.call(this,a,we)})),M("keydown",y,we=>we.key==="Escape"&&h()),S(j,y)};ke(R,j=>{e(n)&&e(o)&&j(P)})}S(t,D),Xe()}var Kn=L('<div class="weekday"> </div>'),Vn=L("<button><!></button>"),Xn=L('<div class="week-row svelte-18nbe3o"></div>'),Gn=L('<div class="month-calendar svelte-18nbe3o"><div class="month-controls svelte-18nbe3o"><button class="nav svelte-18nbe3o" aria-label="Previous month">‚Äπ</button> <div class="month-label svelte-18nbe3o"> </div> <button class="nav svelte-18nbe3o" aria-label="Next month">‚Ä∫</button></div> <div class="month-grid svelte-18nbe3o"><div class="weekdays svelte-18nbe3o"></div> <!></div></div>');function Zn(t,a){Ve(a,!1);let n=$(a,"selectedDate",28,()=>new Date),o=$(a,"viewDate",28,()=>new Date);function b(A){A!==null&&n(new Date(o().getFullYear(),o().getMonth(),A))}function g(){o(new Date(o().getFullYear(),o().getMonth()-1,1))}function h(){o(new Date(o().getFullYear(),o().getMonth()+1,1))}function k(A){const ue=A.getFullYear(),G=A.getMonth(),J=new Date(ue,G,1),X=new Date(ue,G+1,0).getDate(),we=(J.getDay()+6)%7,se=[];let O=Array(7).fill(null),u=1;for(let x=we;x<7;x++)O[x]=u++;for(se.push(O.slice());u<=X;){O=Array(7).fill(null);for(let x=0;x<7&&u<=X;x++)O[x]=u++;se.push(O.slice())}return se}const D=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"];function R(A,ue){return A.getFullYear()===ue.getFullYear()&&A.getMonth()===ue.getMonth()&&A.getDate()===ue.getDate()}Ke();var P=Gn(),j=l(P),y=l(j),m=d(y,2),_e=l(m,!0);r(m);var ne=d(m,2);r(j);var F=d(j,2),pe=l(F);Fe(pe,5,()=>D,Ue,(A,ue)=>{var G=Kn(),J=l(G,!0);r(G),ce(()=>be(J,e(ue))),S(A,G)}),r(pe);var De=d(pe,2);Fe(De,1,()=>(B(o()),z(()=>k(o()))),Ue,(A,ue)=>{var G=Xn();Fe(G,5,()=>e(ue),Ue,(J,Z)=>{var X=Vn();let we;var se=l(X);{var O=u=>{var x=We();ce(()=>be(x,e(Z))),S(u,x)};ke(se,u=>{e(Z)!==null&&u(O)})}r(X),ce((u,x)=>{we=Pe(X,1,"day-cell svelte-18nbe3o",null,we,u),X.disabled=e(Z)===null,bt(X,"aria-pressed",x)},[()=>({selected:e(Z)!==null&&R(new Date(o().getFullYear(),o().getMonth(),e(Z)),n())}),()=>(e(Z),B(o()),B(n()),z(()=>e(Z)!==null&&R(new Date(o().getFullYear(),o().getMonth(),e(Z)),n())))]),M("click",X,()=>b(e(Z))),S(J,X)}),r(G),S(A,G)}),r(F),r(P),ce(A=>be(_e,A),[()=>(B(o()),z(()=>o().toLocaleString(void 0,{month:"long",year:"numeric"})))]),M("click",y,g),M("click",ne,h),S(t,P),Xe()}const ya="daily_activity";function Qn(t){if(!(typeof window>"u"))try{localStorage.setItem(ya,JSON.stringify(t))}catch(a){console.warn("Failed to save daily activity to localStorage:",a)}}function es(){if(typeof window>"u")return[];try{const t=localStorage.getItem(ya);return t?JSON.parse(t):[]}catch(t){return console.warn("Failed to load daily activity from localStorage:",t),[]}}const ha=ut(es());ha.subscribe(Qn);function It(t,a){ha.update(n=>{const o=n.find(b=>b.date===t);if(o){if(o.totalMinutes=Math.max(0,o.totalMinutes+a),o.totalMinutes===0)return n.filter(b=>b.date!==t)}else a>0&&n.push({date:t,totalMinutes:a});return[...n]})}var ts=L('<div slot="calendar"><!></div>'),as=L('<div class="task-summary svelte-1iu5iby"><div class="status-counts svelte-1iu5iby"><div> </div> <div> </div> <div> </div></div></div>'),ns=L('<p class="no-results svelte-1iu5iby">No tasks match the current filters.</p>'),ss=L('<div slot="content"><div class="filter-results svelte-1iu5iby"><p class="svelte-1iu5iby"><strong> </strong> of <strong> </strong> tasks shown</p> <!></div></div>'),os=L('<button class="fab-option svelte-1iu5iby"><span class="fab-icon svelte-1iu5iby">üìã</span> <span class="fab-label svelte-1iu5iby">Major Task</span></button> <button class="fab-option svelte-1iu5iby"><span class="fab-icon svelte-1iu5iby">‚úì</span> <span class="fab-label svelte-1iu5iby">Subtask</span></button>',1),rs=L('<div><!> <div class="calendar-container svelte-1iu5iby"><div class="calendar-header svelte-1iu5iby"><button class="svelte-1iu5iby">‚Üê</button> <button class="svelte-1iu5iby">Today</button> <div class="week-display svelte-1iu5iby"> </div> <button class="svelte-1iu5iby">‚Üí</button> <div class="zoom-controls svelte-1iu5iby"><button title="Zoom out" class="svelte-1iu5iby">‚àí</button> <button title="Reset zoom" class="svelte-1iu5iby">‚äô</button> <button title="Zoom in" class="svelte-1iu5iby">+</button></div></div> <!> <!> <!></div> <div class="fab-container svelte-1iu5iby"><!> <button> </button></div></div> <!>',1);function is(t,a){Ve(a,!1);const n=()=>wt(Dt,"$subtasks",o),[o,b]=zt(),g=p(),h=p();let k=p({}),D=p(!1),R=p(!1),P=p("create"),j=p(null),y=p(""),m=p(""),_e=p(""),ne=p(""),F=p(""),pe=p("medium"),De=p(!1),A=p(""),ue=p(""),G=p(new Date),J=p(new Date(e(G).getFullYear(),e(G).getMonth(),1)),Z=p(!0),X=p(!1);function we(i){s(X,i.detail.collapsed)}let se=p([]),O=p({}),u=p(null),x=p([]),ve=p(60);const oe=30,Me=120;let E=p(0);const ie=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],_=Array.from({length:24},(i,v)=>`${v.toString().padStart(2,"0")}:00`);function f(i){const v=new Date,w=v.getDay(),N=w===0?-6:1-w,he=new Date(v);return he.setDate(v.getDate()+N+i*7),Array.from({length:7},(Ne,Ge)=>{const Je=new Date(he);return Je.setDate(he.getDate()+Ge),Je})}function H(i){return i.getDate().toString()}function Y(i){const v=new Date;return i.getDate()===v.getDate()&&i.getMonth()===v.getMonth()&&i.getFullYear()===v.getFullYear()}function W(i){if(i.length===0)return"";const v=i[0],w=i[6],N=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],he=`${N[v.getMonth()]} ${v.getDate()}`,Ne=`${N[w.getMonth()]} ${w.getDate()}`;return`${he} - ${Ne}`}function U(i,v){const w=`${i}|${v}`,N=e(k)[w];console.log("handleCellClick:",{key:w,existing:N}),N?(console.log("handleCellClick: opening view modal"),V(N,i)):(console.log("handleCellClick: opening create modal"),te(i,v))}function te(i,v){console.log("openCreateModal called:",i,v),s(P,"create"),s(y,i);const[w,N]=v.split(":").map(Number),Ne=`${((w+1)%24).toString().padStart(2,"0")}:${N.toString().padStart(2,"0")}`;s(m,v),s(_e,Ne),s(ne,""),s(F,""),s(pe,"medium"),s(j,null),s(D,!0)}function V(i,v,w){s(P,"view"),s(y,v),s(m,i.startTime),s(_e,i.endTime),s(ne,i.title),s(F,i.description),s(j,i),s(D,!0)}function me(){const i=dt(e(m));if(dt(e(_e))<=i){alert("End time must be after start time");return}if(e(P)==="create"){const w=vn(e(y),e(m),e(_e),e(ne),e(F),"pending",e(ue)||void 0,void 0,e(pe));Dt.update(N=>[...N,w]),Ln(w)}else if(e(j)){const w=e(j).id;lt(w,{startTime:e(m),endTime:e(_e),title:e(ne),description:e(F),majorTaskId:e(ue)||void 0,priority:e(pe)});const N=n().find(he=>he.id===w);N&&Fn(N)}s(D,!1)}function Q(){e(j)&&(Yn(e(j)),mn(e(j).id)),s(D,!1)}function ge(){s(D,!1)}function le(i,v){const w=`${i.date}|${i.time}`,N=e(k)[w];if(N){const he=dt(N.startTime),Ge=dt(N.endTime)-he,ot=dt(v.time)+Ge;if(N.status==="completed"&&i.date!==v.date){const jt=qt(N),At=N.completedOnDate||i.date;It(At,-jt),It(v.date,jt),lt(N.id,{date:v.date,startTime:v.time,endTime:xt(ot),completedOnDate:v.date})}else lt(N.id,{date:v.date,startTime:v.time,endTime:xt(ot)})}}function Se(i){V(i,i.date,i.startTime)}function re(i,v){const w=n().find(he=>he.id===i);if(!w)return;const N=w.status;if(v==="completed"&&N!=="completed"){const he=new Date(w.date+"T"+w.endTime);if((new Date().getTime()-he.getTime())/(1e3*60*60)<=24){const Je=qt(w);It(w.date,Je),lt(i,{status:v,completedOnDate:w.date})}else lt(i,{status:v});return}if(N==="completed"&&v!=="completed"){const he=qt(w),Ne=w.completedOnDate||w.date;It(Ne,-he)}lt(i,{status:v})}function Ee(i,v,w){lt(i,{startTime:xt(v),endTime:xt(w)})}function Re(){s(De,!e(De))}function Oe(){s(De,!1),s(R,!0)}function Be(){s(De,!1);const i=new Date().toISOString().split("T")[0];te(i,"09:00")}function Ae(i){if(e(A)){const v=i.detail,w=ua(e(A),v.title,v.description,v.color,v.startDay,v.endDay,v.priority);tt.update(N=>[...N,w])}s(R,!1)}function $e(){s(R,!1)}function Ce(){s(ve,Math.min(Me,e(ve)+10))}function je(){s(ve,Math.max(oe,e(ve)-10))}function He(){s(ve,60)}function xe(){Xt(E,-1)}function qe(){Xt(E)}function at(){s(E,0)}Ct(()=>{pa();const i=setInterval(()=>{ea(n())},300*1e3);return ea(n()),()=>clearInterval(i)}),Te(()=>n(),()=>{s(g,n().map(i=>({id:i.id,title:i.title,status:i.status,priority:i.priority,date:i.date,startTime:i.startTime,endTime:i.endTime,description:i.description})))}),Te(()=>(n(),e(O),e(u)),()=>{let i=[...n()];if(e(O).status&&e(O).status.length>0&&(i=i.filter(v=>e(O).status.includes(v.status))),e(O).priority&&e(O).priority.length>0&&(i=i.filter(v=>e(O).priority.includes(v.priority))),e(u)){if(e(u)==="date")i.sort((v,w)=>new Date(v.date).getTime()-new Date(w.date).getTime());else if(e(u)==="status"){const v={pending:0,completed:1,cancelled:2};i.sort((w,N)=>v[w.status]-v[N.status])}else if(e(u)==="priority"){const v={high:0,medium:1,low:2};i.sort((w,N)=>v[w.priority]-v[N.priority])}}s(se,i)}),Te(()=>(e(G),e(E)),()=>{if(e(G)){const i=new Date,v=i.getDay(),w=v===0?-6:1-v,N=new Date(i);N.setDate(i.getDate()+w);const he=e(G).getDay(),Ne=he===0?-6:1-he,Ge=new Date(e(G));Ge.setDate(e(G).getDate()+Ne);const Je=Ge.getTime()-N.getTime(),ot=Math.round(Je/(10080*60*1e3));ot!==e(E)&&s(E,ot)}}),Te(()=>e(E),()=>{s(h,f(e(E)))}),Te(()=>(e(h),Tt),()=>{e(h).length>0&&s(A,Tt(e(h)[0]))}),Te(()=>e(se),()=>{s(k,{}),e(se).forEach(i=>{const v=`${i.date}|${i.startTime}`;La(k,e(k)[v]=i)})}),gt(),Ke();var ae=rs(),K=Qe(ae);let c;var T=l(K);Wa(T,{title:"Calendar & Tasks",get items(){return e(g)},get visible(){return e(Z)},set visible(i){s(Z,i)},get selectedFilters(){return e(O)},set selectedFilters(i){s(O,i)},get selectedSortId(){return e(u)},set selectedSortId(i){s(u,i)},get filteredItems(){return e(x)},set filteredItems(i){s(x,i)},$$events:{toggle:we},$$slots:{calendar:(i,v)=>{var w=ts(),N=l(w);Zn(N,{get selectedDate(){return e(G)},set selectedDate(he){s(G,he)},get viewDate(){return e(J)},set viewDate(he){s(J,he)},$$legacy:!0}),r(w),S(i,w)},content:(i,v)=>{var w=ss(),N=l(w),he=l(N),Ne=l(he),Ge=l(Ne,!0);r(Ne);var Je=d(Ne,2),ot=l(Je,!0);r(Je),Fa(),r(he);var jt=d(he,2);{var At=vt=>{var ht=as(),Kt=l(ht),$t=l(Kt),Da=l($t);r($t);var Nt=d($t,2),Ma=l(Nt);r(Nt);var Vt=d(Nt,2),ja=l(Vt);r(Vt),r(Kt),r(ht),ce((rt,xa,Ia)=>{be(Da,`Pending: ${rt??""}`),be(Ma,`Completed: ${xa??""}`),be(ja,`Cancelled: ${Ia??""}`)},[()=>(e(se),z(()=>e(se).filter(rt=>rt.status==="pending").length)),()=>(e(se),z(()=>e(se).filter(rt=>rt.status==="completed").length)),()=>(e(se),z(()=>e(se).filter(rt=>rt.status==="cancelled").length))]),S(vt,ht)},Ta=vt=>{var ht=ns();S(vt,ht)};ke(jt,vt=>{e(se),z(()=>e(se).length>0)?vt(At):vt(Ta,!1)})}r(N),r(w),ce(()=>{be(Ge,(e(se),z(()=>e(se).length))),be(ot,(n(),z(()=>n().length)))}),S(i,w)}},$$legacy:!0});var I=d(T,2),ee=l(I),fe=l(ee),de=d(fe,2),ye=d(de,2),C=l(ye,!0);r(ye);var q=d(ye,2),Ie=d(q,2),Le=l(Ie),ze=d(Le,2),yt=d(ze,2);r(Ie),r(ee);var Ye=d(ee,2);wn(Ye,{get weekDates(){return e(h)},get timeSlots(){return _},get daysOfWeek(){return ie},get eventsIndex(){return e(k)},get pixelsPerHour(){return e(ve)},handleCellClick:U,formatDate:H,isToday:Y,onEventMove:le,onSubtaskClick:Se,onSubtaskResize:Ee,onStatusChange:re});var st=d(Ye,2);jn(st,{get showModal(){return e(D)},get modalMode(){return e(P)},get selectedEvent(){return e(j)},onClose:ge,onSave:me,onDelete:Q,get targetDate(){return e(y)},set targetDate(i){s(y,i)},get startTimeInput(){return e(m)},set startTimeInput(i){s(m,i)},get endTimeInput(){return e(_e)},set endTimeInput(i){s(_e,i)},get titleInput(){return e(ne)},set titleInput(i){s(ne,i)},get descriptionInput(){return e(F)},set descriptionInput(i){s(F,i)},get majorTaskIdInput(){return e(ue)},set majorTaskIdInput(i){s(ue,i)},get priorityInput(){return e(pe)},set priorityInput(i){s(pe,i)},$$legacy:!0});var _a=d(st,2);Pn(_a,{get showModal(){return e(R)},set showModal(i){s(R,i)},$$events:{create:Ae,close:$e},$$legacy:!0}),r(I);var Ut=d(I,2),Bt=l(Ut);{var ka=i=>{var v=os(),w=Qe(v),N=d(w,2);M("click",w,Oe),M("click",N,Be),S(i,v)};ke(Bt,i=>{e(De)&&i(ka)})}var Mt=d(Bt,2);let Jt;var wa=l(Mt,!0);r(Mt),r(Ut),r(K);var Sa=d(K,2);Jn(Sa,{}),ce((i,v,w)=>{c=Pe(K,1,"calendar-shell svelte-1iu5iby",null,c,i),be(C,v),Jt=Pe(Mt,1,"fab-main svelte-1iu5iby",null,Jt,w),be(wa,e(De)?"‚úï":"+")},[()=>({collapsed:e(X)}),()=>(e(h),z(()=>W(e(h)))),()=>({active:e(De)})]),M("click",fe,xe),M("click",de,at),M("click",q,qe),M("click",Le,je),M("click",ze,He),M("click",yt,Ce),M("click",Mt,Re),S(t,ae),Xe(),b()}var ls=L('<button class="feedback-button svelte-er6x5">üí¨ Give Feedback</button>');function ds(t,a){let n=$(a,"formUrl",8);var o=ls();M("click",o,()=>window.open(n(),"_blank")),S(t,o)}var cs=L('<main><div class="calendar-wrapper svelte-13luymz"><!></div> <div style="display: flex; flex-direction: column; align-items: flex-end; gap: 1rem; margin-top: 1.5rem;"><!></div> <div style="display: flex; flex-direction: column; align-items: flex-end; gap: 2rem; margin-top: 1.5rem;"><button class="feedback-button svelte-13luymz">Sort Tasks by Priority</button></div></main>');function Ss(t,a){Ve(a,!1),Ct(()=>{document.documentElement.style.setProperty("--background",mt.background),document.documentElement.style.setProperty("--bubbleBackground",mt.bubbleBackground),document.documentElement.style.setProperty("--buttonPrimary",mt.buttonPrimary),document.documentElement.style.setProperty("--buttonHover",mt.buttonHover),document.documentElement.style.setProperty("--buttonText",mt.buttonText),document.documentElement.style.setProperty("--textPrimary",mt.textPrimary)});function n(){let P=[];try{const y=localStorage.getItem("calendar_subtasks");P=y?JSON.parse(y):[]}catch{P=[]}const j=P.map(y=>({id:String(y.id),name:y.title??`Subtask #${y.id}`,description:y.description??"",priority:y.priority??"medium"}));try{localStorage.setItem("tasks",JSON.stringify(j))}catch(y){console.warn("Failed to save formatted tasks:",y)}window.location.href="/Team_4/taskBattle"}Ke();var o=cs(),b=l(o),g=l(b);is(g,{}),r(b);var h=d(b,2),k=l(h);ds(k,{formUrl:"https://docs.google.com/forms/d/e/1FAIpQLSdZ-SvMCCUtNef0xh4V4pEj-rCvK7VwQjV50e05OuxgLJeNHQ/viewform?usp=dialog"}),r(h);var D=d(h,2),R=l(D);r(D),r(o),M("click",R,n),S(t,o),Xe()}export{Ss as component};
