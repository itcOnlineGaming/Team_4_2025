import"./DsnmJJEf.js";import{i as Pe}from"./DXyBnxB2.js";import{h as ze,M as Be,p as He,az as Le,aA as pe,H as b,aB as De,f as u,j as r,y as t,z as Ee,r as l,s as f,u as d,t as I,k,w as ee,d as i,e as Re,x as je,aC as U,i as oe,aD as ke}from"./cFvlkg9Z.js";import{p as _,i as p}from"./Dkf5emk-.js";import{e as ge,i as me,s as te,c as Me}from"./CRAQB-h_.js";import{r as Ce,s as Ge,a as Oe}from"./BWnOpqhF.js";function Ae(X,v,N,q,E){ze&&Be();var A=v.$$slots?.[N],L=!1;A===!0&&(A=v[N==="default"?"children":N],L=!0),A===void 0?E!==null&&E(X):A(X,L?()=>q:q)}var Te=u('<h2> </h2> <button class="clear-button">Clear</button>',1),Ue=u('<button class="auth-icon-button"> </button>'),Ne=u('<p class="auth-status"> </p> <button class="auth-button"> </button>',1),qe=u('<div class="auth-section"><!></div>'),Je=u('<div class="collapsed-icon"> </div>'),Ke=u("<h3> </h3>"),Qe=u('<span class="collapsed-dot"> </span>'),Ve=u('<label class="filter-chip"><input/> <span> </span> <!></label>'),We=u('<section class="filter-group"><!> <!> <div class="filter-options"></div></section>'),Xe=u('<div class="collapsed-icon" title="Sort By"> </div>'),Ye=u("<h3>Sort by</h3>"),Ze=u('<span class="collapsed-dot"> </span>'),$e=u('<label class="sort-item"><input type="radio" name="sort"/> <span> </span> <!></label>'),et=u('<aside aria-label="SRL filter sidebar"><div class="sidebar-header"><button class="collapse-button"><!></button> <!></div> <!> <div class="sidebar-section filters"></div> <div class="sidebar-section sort"><!> <!> <div class="sort-options"></div></div> <!></aside>');function tt(X,v){He(v,!1);let N=_(v,"title",8,"Filters"),q=_(v,"items",24,()=>[]),E=_(v,"filterGroups",24,()=>[]),A=_(v,"sortOptions",24,()=>[]),L=_(v,"initialSortId",8,null),x=_(v,"selectedFilters",28,()=>({})),D=_(v,"selectedSortId",28,L),w=_(v,"filteredItems",28,()=>[]),ae=_(v,"showAuthSection",8,!1),J=_(v,"isAuthenticated",8,!1),ce=_(v,"filterFn",8,(s,e)=>{for(const[a,n]of Object.entries(e)){if(!n.length)continue;const c=(s[a]??"").toString();if(!n.includes(c))return!1}return!0}),se=_(v,"sortFn",8,(s,e,a)=>{if(!a)return 0;const n=s[a],c=e[a];return n==null||c==null?0:n<c?-1:n>c?1:0}),g=Ee(!1);const Y=Le();function K(){je(g,!t(g)),Y("toggle",{collapsed:t(g)})}function Z(s,e,a="checkbox"){const n=x()[s]||[];let c;a==="radio"?c=e===n[0]?[]:[e]:c=n.includes(e)?n.filter(y=>y!==e):[...n,e],x({...x(),[s]:c})}function de(){const s={};for(const e of E())s[e.id]=[];x(s),D(L())}function xe(s){D(s)}function G(){Y("login")}function we(){Y("logout")}pe(()=>(b(E()),b(x())),()=>{for(const s of E())x()[s.id]||x({...x(),[s.id]:[]})}),pe(()=>(b(q()),b(ce()),b(x()),b(se()),b(D()),b(w())),()=>{const e=[...q().filter(a=>ce()(a,x()))].sort((a,n)=>se()(a,n,D()));w(e),Y("change",{filteredItems:w(),selectedFilters:x(),selectedSortId:D()})}),De(),Pe();var M=et(),Q=r(M),V=r(Q),ye=r(V);{var fe=s=>{var e=U("â˜°");i(s,e)},ue=s=>{var e=U("Â«");i(s,e)};p(ye,s=>{t(g)?s(fe):s(ue,!1)})}l(V);var Se=f(V,2);{var _e=s=>{var e=Te(),a=oe(e),n=r(a,!0);l(a);var c=f(a,2);I(()=>k(n,N())),ee("click",c,de),i(s,e)};p(Se,s=>{t(g)||s(_e)})}l(Q);var $=f(Q,2);{var le=s=>{var e=qe(),a=r(e);{var n=y=>{var C=Ue(),O=r(C,!0);l(C),I(()=>k(O,J()?"ğŸ”’":"ğŸ”“")),ee("click",C,function(...h){(J()?we:G)?.apply(this,h)}),i(y,C)},c=y=>{var C=Ne(),O=oe(C),h=r(O,!0);l(O);var o=f(O,2),m=r(o,!0);l(o),I(()=>{k(h,J()?"Signed in":"Guest session"),k(m,J()?"Log out":"Log in to save filters")}),ee("click",o,function(...P){(J()?we:G)?.apply(this,P)}),i(y,C)};p(a,y=>{t(g)?y(n):y(c,!1)})}l(e),i(s,e)};p($,s=>{ae()&&s(le)})}var re=f($,2);ge(re,5,E,me,(s,e)=>{var a=We(),n=r(a);{var c=h=>{var o=Je(),m=r(o,!0);l(o),I(()=>{Ge(o,"title",(t(e),d(()=>t(e).label))),k(m,(t(e),d(()=>t(e).icon)))}),i(h,o)};p(n,h=>{t(g)&&h(c)})}var y=f(n,2);{var C=h=>{var o=Ke(),m=r(o,!0);l(o),I(()=>k(m,(t(e),d(()=>t(e).label)))),i(h,o)};p(y,h=>{t(g)||h(C)})}var O=f(y,2);ge(O,5,()=>(t(e),d(()=>t(e).options)),me,(h,o)=>{var m=Ve(),P=r(m);Ce(P);var T=f(P,2);let be;var S=r(T,!0);l(T);var H=f(T,2);{var ve=j=>{var z=Qe(),F=r(z,!0);l(z),I(B=>k(F,B),[()=>(t(o),d(()=>t(o).label.charAt(0)))]),i(j,z)};p(H,j=>{t(g)&&j(ve)})}l(m),I((j,z)=>{Ge(P,"type",(t(e),d(()=>t(e).type??"checkbox"))),Oe(P,j),be=te(T,1,"",null,be,z),k(S,(t(o),d(()=>t(o).label)))},[()=>(b(x()),t(e),t(o),d(()=>x()[t(e).id]?.includes(t(o).value))),()=>({hidden:t(g)})]),ee("change",P,()=>Z(t(e).id,t(o).value,t(e).type??"checkbox")),i(h,m)}),l(O),l(a),i(s,a)}),l(re);var ie=f(re,2),he=r(ie);{var Fe=s=>{var e=Xe(),a=r(e,!0);l(e),I(()=>k(a,(b(A()),d(()=>A()[0]?.icon??"â†•ï¸")))),i(s,e)};p(he,s=>{t(g)&&s(Fe)})}var R=f(he,2);{var W=s=>{var e=Ye();i(s,e)};p(R,s=>{t(g)||s(W)})}var ne=f(R,2);ge(ne,5,A,me,(s,e)=>{var a=$e(),n=r(a);Ce(n);var c=f(n,2);let y;var C=r(c,!0);l(c);var O=f(c,2);{var h=o=>{var m=Ze(),P=r(m,!0);l(m),I(T=>k(P,T),[()=>(t(e),d(()=>t(e).label.charAt(0)))]),i(o,m)};p(O,o=>{t(g)&&o(h)})}l(a),I(o=>{Oe(n,(b(D()),t(e),d(()=>D()===t(e).id))),y=te(c,1,"",null,y,o),k(C,(t(e),d(()=>t(e).label)))},[()=>({hidden:t(g)})]),ee("change",n,()=>xe(t(e).id)),i(s,a)}),l(ne),l(ie);var Ie=f(ie,2);Ae(Ie,v,"default",{},null),l(M),I(()=>te(M,1,Me(t(g)?"month-sidebar collapsed":"month-sidebar"))),ee("click",V,K),i(X,M),Re()}var at=u('<li class="result-item svelte-t2frw1"><span><!></span> <span class="item-title svelte-t2frw1"> </span> <span><!></span></li>'),st=u('<li class="more-items svelte-t2frw1"> </li>'),lt=u('<ul class="results-list svelte-t2frw1"><!> <!></ul>'),rt=u('<p class="no-results svelte-t2frw1">ğŸ” No items match the current filters.</p>'),it=u('<div class="default-content svelte-t2frw1"><p class="results-count svelte-t2frw1"> </p> <!></div>'),nt=u('<div class="custom-sections svelte-t2frw1"><div class="custom-section calendar-section svelte-t2frw1"><div class="section-header svelte-t2frw1"><div class="collapsed-icon calendar-icon svelte-t2frw1" title="Calendar">ğŸ“…</div> <h3 class="section-title svelte-t2frw1">Calendar</h3></div> <div class="section-content svelte-t2frw1"><!></div></div> <div class="custom-section help-section svelte-t2frw1"><div class="section-header svelte-t2frw1"><div class="collapsed-icon help-icon svelte-t2frw1" title="Help">â“</div> <h3 class="section-title svelte-t2frw1">Help</h3></div> <div class="section-content svelte-t2frw1"><div class="help-actions svelte-t2frw1"><button class="action-btn">ğŸ“– User Guide</button></div></div></div> <div class="custom-section results-section svelte-t2frw1"><div class="section-header svelte-t2frw1"><div class="collapsed-icon results-icon svelte-t2frw1" title="Filtered Results">ğŸ”</div> <h3 class="section-title svelte-t2frw1">Results</h3></div> <div class="section-content svelte-t2frw1"><!></div></div></div>'),vt=u("<div><!></div>");function ht(X,v){He(v,!1);let N=_(v,"visible",8,!0),q=_(v,"title",8,"Task Filters"),E=_(v,"items",24,()=>[]),A=_(v,"filterGroups",28,()=>[]),L=_(v,"sortOptions",28,()=>[]),x=_(v,"selectedFilters",28,()=>({})),D=_(v,"selectedSortId",12,null),w=_(v,"filteredItems",28,()=>[]),ae=Ee(!1);const J=Le();function ce(K){je(ae,K.detail.collapsed),J("toggle",{collapsed:t(ae)})}pe(()=>b(A()),()=>{A().length||A([{id:"status",label:"Status",icon:"ğŸ“‹",options:[{value:"pending",label:"Pending"},{value:"in-progress",label:"In Progress"},{value:"completed",label:"Completed"}]},{id:"priority",label:"Priority",icon:"ğŸ”¥",options:[{value:"high",label:"High"},{value:"medium",label:"Medium"},{value:"low",label:"Low"}]}])}),pe(()=>b(L()),()=>{L().length||L([{id:"date",label:"Date",icon:"ğŸ“‘"},{id:"priority",label:"Priority",icon:"ğŸ”¥"},{id:"status",label:"Status",icon:"ğŸ“‹"}])}),De(),Pe();var se=ke(),g=oe(se);{var Y=K=>{var Z=vt();let de;var xe=r(Z);tt(xe,{get title(){return q()},get items(){return E()},get filterGroups(){return A()},get sortOptions(){return L()},get selectedFilters(){return x()},set selectedFilters(G){x(G)},get selectedSortId(){return D()},set selectedSortId(G){D(G)},get filteredItems(){return w()},set filteredItems(G){w(G)},$$events:{toggle:ce},children:(G,we)=>{var M=nt(),Q=r(M),V=f(r(Q),2),ye=r(V);Ae(ye,v,"calendar",{},_e=>{}),l(V),l(Q);var fe=f(Q,4),ue=f(r(fe),2),Se=r(ue);Ae(Se,v,"content",{},_e=>{var $=it(),le=r($),re=r(le);l(le);var ie=f(le,2);{var he=R=>{var W=lt(),ne=r(W);ge(ne,1,()=>(b(w()),d(()=>w().slice(0,5))),me,(e,a)=>{var n=at(),c=r(n),y=r(c);{var C=S=>{var H=U("ğŸ”´");i(S,H)},O=S=>{var H=ke(),ve=oe(H);{var j=F=>{var B=U("ğŸŸ¢");i(F,B)},z=F=>{var B=U("ğŸŸ¡");i(F,B)};p(ve,F=>{t(a),d(()=>t(a).priority==="low")?F(j):F(z,!1)},!0)}i(S,H)};p(y,S=>{t(a),d(()=>t(a).priority==="high")?S(C):S(O,!1)})}l(c);var h=f(c,2),o=r(h,!0);l(h);var m=f(h,2),P=r(m);{var T=S=>{var H=U("âœ…");i(S,H)},be=S=>{var H=ke(),ve=oe(H);{var j=F=>{var B=U("âŒ");i(F,B)},z=F=>{var B=U("â³");i(F,B)};p(ve,F=>{t(a),d(()=>t(a).status==="cancelled")?F(j):F(z,!1)},!0)}i(S,H)};p(P,S=>{t(a),d(()=>t(a).status==="completed")?S(T):S(be,!1)})}l(m),l(n),I(()=>{te(c,1,`item-priority ${t(a),d(()=>t(a).priority||"medium")??""}`,"svelte-t2frw1"),k(o,(t(a),d(()=>t(a).title||t(a).name||"Untitled"))),te(m,1,`item-status ${t(a),d(()=>t(a).status||"pending")??""}`,"svelte-t2frw1")}),i(e,n)});var Ie=f(ne,2);{var s=e=>{var a=st(),n=r(a);l(a),I(()=>k(n,`...and ${b(w()),d(()=>w().length-5)??""} more`)),i(e,a)};p(Ie,e=>{b(w()),d(()=>w().length>5)&&e(s)})}l(W),i(R,W)},Fe=R=>{var W=rt();i(R,W)};p(ie,R=>{b(w()),d(()=>w().length>0)?R(he):R(Fe,!1)})}l($),I(()=>k(re,`ğŸ“‹ ${b(w()),d(()=>w().length)??""} items match filters`)),i(_e,$)}),l(ue),l(fe),l(M),i(G,M)},$$slots:{default:!0},$$legacy:!0}),l(Z),I(G=>de=te(Z,1,"external-sidebar-wrapper svelte-t2frw1",null,de,G),[()=>({collapsed:t(ae)})]),i(K,Z)};p(g,K=>{N()&&K(Y)})}i(X,se),Re()}export{ht as E};
